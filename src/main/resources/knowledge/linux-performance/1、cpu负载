操作系统centos7.4

1、安装工具
yum install -y sysstat

yum install -y epel-release
yum install -y stress

查看cpu核数
grep 'model name' /proc/cpuinfo |wc -l

当平均负载高于cpu数量70%的时候，就应该分析排查负载高的问题了。

测试打开多个窗口执行命令：
一、cpu密集型进程
模拟一个cpu使用率100%的场景
stress --cpu 1 --timeout 600

查看平均负载情况 -d 参数表示高亮显示变化的区域：
watch -d uptime

查看cpu使用率变化情况， -P ALL 表示监控所有CPU，后面数字5 表示间隔5秒后输出一组数据
mpstat -P ALL 5

查看哪一个进程导致cpu使用率为100%， 间隔5秒后输出一组数据
pidstat -u 5 1

二、io密集型进程

模拟io压力
stress -i  1 --timeout 600

下面命令同上

三、大量进程的场景

模拟4个进程
stress -c  4 --timeout 600
